{% extends 'produtividade/base.html' %}
{% block title %}Lan√ßar Produtividade{% endblock %}
{% block content %}
  <h1>Lan√ßar Produtividade ‚Ä¢ {{ grupo.nome }}</h1>

  <form method="get" class="filters">
  <div class="input-group">
    <label class="input-label">Data</label>
    <input type="date" name="data" value="{{ data }}" class="input-field">
  </div>

  <div class="input-group">
    <label class="input-label">Projeto</label>
    <select name="projeto" class="input-field">
      {% for proj in projetos %}
        <option value="{{ proj.id }}" {% if proj.id|stringformat:"s" == request.GET.projeto %}selected{% endif %}>
          {{ proj.titulo }}
        </option>
      {% endfor %}
    </select>
  </div>

  <button class="btn">Carregar</button>
</form>


  <form method="post">
  {% csrf_token %}
  {{ formset.management_form }}  <!-- üëà OBRIGAT√ìRIO PARA FORMSETS -->

  <table class="table">
    <thead>
      <tr>
        <th>Aluno</th>
        <th>Pontualidade</th>
        <th>Comunica√ß√£o</th>
        <th>Qualidade do C√≥digo</th>
        <th>Entrega de Tarefas</th>
        <th>Resolu√ß√£o de Problemas</th>
        <th>Observa√ß√µes</th>
      </tr>
    </thead>
    <tbody>
      {% for form in formset %}
        <tr>
          <td>
            {{ form.aluno_id }} {{ form.aluno_nome }}
            {{ form.data }} {{ form.projeto }}
          </td>
          <td>{{ form.pontualidade }}</td>
          <td>{{ form.comunicacao }}</td>
          <td>{{ form.qualidade_codigo }}</td>
          <td>{{ form.entrega_tarefas }}</td>
          <td>{{ form.resolucao_problemas }}</td>
          <td>{{ form.observacoes }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <button class="btn primary" type="submit">Salvar Lan√ßamentos</button>
</form>
{% endblock %}
